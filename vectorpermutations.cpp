//
// Created by Lenovo on 29/01/2024.
//
#include <iostream>
#include <vector>

/*
 * print
 * prints the contents of a vector of integers
 * a is the vector to print; a is not modified
 */
void print(const std::vector<int>& a){
    int n = static_cast<int>(a.size());
    std::cout << "{";
    if (n > 0){
        std::cout << a[0]; // Print the first element
        for (int i = 1; i < n; i++)
            std::cout << ',' << a[i]; // Print the rest
    }
    std::cout << "}";
}
/*
 * prints all the permutations of vector a in the
 * index range begin...end, inclusive. the function's
 * behavior is undefined if begin or end
 * represents an index outside the bound of vector a.
 */
void permute(std::vector<int>& a, int begin, int end){
    if (begin == end){
        print(a);
        std::cout << '\n';
    }
    else{
        for (int i = begin; i <= end; i++){
            // Interchange the element at the first position
            // with the element at position i
            std::swap(a[begin], a[i]);
            // Recursively permute the rest of the vector
            permute(a, begin +1, end);
            // Interchange the current element at the first position
            // with the current element at position i
            std::swap(a[begin], a[i]);
        }
    }
}
/*
 * Tests the permutation functions
 */
int main(){
    // Get number of values from the user
    std::cout << "Please enter number of values to permute: ";
    int number;
    std::cin >> number;
    // Create the vector to hold all the values
    std::vector<int> list(number);
    // Initialize the vector
    for (int i = 0; i < number; i++)
        list[i] = i;
    // Print original list
    print(list);
    std::cout <<  "\n----------\n";
    // Print all the permutations of list
    permute(list, 0, number -1 );
    std::cout <<  "\n----------\n";
    // Print list after all the manipulations
    print(list);
}